const { EmbedBuilder } = require("discord.js");

module.exports = (client) => {
  client.on("messageCreate", async (message) => {
    // ุชุฌุงูู ุงูุฑุณุงุฆู ุงูุตุงุฏุฑุฉ ูู ุงูุจูุชุงุช
    if (message.author.bot) return;

    // ุงูุชุญูู ููุง ุฅุฐุง ูุงู ุงูุฃูุฑ ูู "!help"
    if (message.content.toLowerCase() !== "!help") return;

    // ุงูุชุญูู ููุง ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุฏูู ุตูุงุญูุฉ ADMINISTRATOR
    if (!message.member.permissions.has("ADMINISTRATOR")) {
      return message.reply(
        "๐ซ ููุณ ูุฏูู ุฅุฐู ูุงุณุชุฎุฏุงู ูุฐุง ุงูุฃูุฑ. ูุฌุจ ุฃู ุชููู ูุฏูู ุตูุงุญูุฉ `ADMINISTRATOR`."
      );
    }

    // ุฅูุดุงุกEmbed ูููุณุงุนุฏุฉ
    const helpEmbed = new EmbedBuilder()
      .setColor("#f1645f")
      .setTitle("๐ ูุงุฆูุฉ ุงูุฃูุงูุฑ ุงููุชุงุญุฉ")
      .setDescription("ูุฐู ูุงุฆูุฉ ุจุฌููุน ุงูุฃูุงูุฑ ุงููุชุงุญุฉ ูู ุงูุณูุฑูุฑ")
      .addFields(
        {
          name: "๐ก๏ธ ุฃูุงูุฑ ุงูุญูุงูุฉ",
          value: `
โข ููุงูุญุฉ ุงูุณุจุงู
โข ููุงูุญุฉ ุงูุฑูุงุจุท
โข ุญูุงูุฉ ูู ุงููููู
โข ุญูุงูุฉ ูู ุงูุฑุงูุฏ
โข ุญูุงูุฉ ุงูุจูุชุงุช
โข ุญูุงูุฉ ุงููุงูู`,
          inline: false,
        },
        {
          name: "๐ค ุฃูุงูุฑ ุงูุจูุช",
          value: `
โข !help - ุนุฑุถ ูุงุฆูุฉ ุงูุฃูุงูุฑ
โข !invoice help - ุนุฑุถ ูุงุฆูุฉ ุงูุฃูุงูุฑ ุงูุฎุงุตู ุจุงูุจุงูุจุงู
โข !clear [ุงูุนุฏุฏ] - ูุณุญ ุนุฏุฏ ูุญุฏุฏ ูู ุงูุฑุณุงุฆู
โข !message - ุงุฑุณุงู ุฑุณุงูุฉ ูุฎุตุตู ูุชุซุจูุชูุง ูู ุงูููุงุฉ
โข !dm @user <message> - ุงุฑุณุงู ุฑุณุงูุฉ ูุฎุตุตู ุงูู ุดุฎุต ุจุนููู
โข !announce - ุงุฑุณุงู ุฑุณุงูุฉ ุงูู ุฌููุน ุงุนุถุงุก ุงูุณูุฑูุฑ
โข !invoice <cost> <item> - paypal invoice
โข !invoice view <id> - ุนุฑุถ ุงูููุงุชูุฑ ุงูุญุงููู
โข !invoice search [status] - ุจุญุซ ุนู ุงูููุงุชูุฑ ุงูุญุงููู
โข !invoice cancel <id> [reason]
โข /sendembed - ุงุฑุณุงู ุฑุณุงูุฉ ูู ุงู ููุงุฉ ุจุฌููุน ูุญุชููุงุชูุง
โข /ajer - ุงุฑุณุงู ุฐูุฑ ูู ุบุฑูุฉ ุงูุงุฐูุงุฑ

`,
          inline: false,
        },
        {
          name: "๐ซ ูุธุงู ุงูุชุฐุงูุฑ",
          value: `
โข ูุธุงู ุงูุชุฐุงูุฑ ุงูุนุงุฏู
โข ูุธุงู ุชุฐุงูุฑ ุงูุฏุนู ุงูููู`,
          inline: false,
        },
        {
          name: "๐ ุฃูุธูุฉ ุงูุชุฑุญูุจ",
          value: `
โข ูุธุงู ุงูุชุฑุญูุจ ุงูุชููุงุฆู
โข ูุธุงู ุงูุชุญูู
โข ุฑุณุงุฆู ุงูุฃุนุถุงุก ุงูุฌุฏุฏ`,
          inline: false,
        },
        {
          name: "๐ฌ ุฃูุธูุฉ ุงูุฑุณุงุฆู",
          value: `
โข ุงูุฑุฏ ุงูุชููุงุฆู ุนูู ุงูุฑุณุงุฆู
โข ูุธุงู ุงูุฑุณุงุฆู ูู ุงููููุงุช ุงููุญุฏุฏุฉ`,
          inline: false,
        }
      )
      .setTimestamp()
      .setFooter({
        text: `Requested by ${message.author.tag}`,
        iconURL: message.author.displayAvatarURL(),
      });

    try {
      await message.reply({ embeds: [helpEmbed] });
    } catch (error) {
      console.error("โ ุฎุทุฃ ูู ุฅุฑุณุงู ุฑุณุงูุฉ ุงููุณุงุนุฏุฉ:", error);
      message.reply("๐ซ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ูุญุงููุฉ ุนุฑุถ ูุงุฆูุฉ ุงูุฃูุงูุฑ.");
    }
  });
};
